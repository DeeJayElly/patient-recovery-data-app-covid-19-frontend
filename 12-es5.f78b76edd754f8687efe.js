function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{ttbB:function(e,t,n){"use strict";n.r(t);var i,a,r=n("ofXK"),o=n("tyNb"),s=n("SxV6"),l=n("RS3s"),c=n("AytR"),d=n("lJxs"),p=n("fXoL"),m=n("tk/3"),u=((i=function(){function e(t){_classCallCheck(this,e),this.http=t}return _createClass(e,[{key:"getAllHospitals",value:function(){return this.http.get("".concat(c.a.apiUrl,"/hospital")).pipe(Object(d.a)((function(e){return e})))}},{key:"getHospital",value:function(e){return this.http.get("".concat(c.a.apiUrl,"/hospital/").concat(e)).pipe(Object(d.a)((function(e){return e})))}},{key:"setHospital",value:function(e){return this.http.post("".concat(c.a.apiUrl,"/hospital"),e).pipe(Object(d.a)((function(e){return e})))}},{key:"deleteHospital",value:function(e){return this.http.delete("".concat(c.a.apiUrl,"/hospital/").concat(e)).pipe(Object(d.a)((function(e){return e})))}},{key:"updateHospital",value:function(e,t){return this.http.put("".concat(c.a.apiUrl,"/hospital/").concat(t),{name:e.name,address:e.address,numberOfBeds:e.numberOfBeds}).pipe(Object(d.a)((function(e){return e})))}}]),e}()).\u0275fac=function(e){return new(e||i)(p["\u0275\u0275inject"](m.b))},i.\u0275prov=p["\u0275\u0275defineInjectable"]({token:i,factory:i.\u0275fac,providedIn:"root"}),i),f=n("aceb"),h=n("sYmb"),b=((a=function(){function e(t,n,i){_classCallCheck(this,e),this.http=t,this.hospitalService=n,this.router=i,this.settings={actions:{add:!1,edit:!1,delete:!1,custom:[{name:"viewrecord",title:'<i class="nb-person"></i>'},{name:"editrecord",title:'<i class="nb-edit"></i>'}]},columns:{name:{title:"Hospital Name",type:"string"},address:{title:"Address",type:"string"},numberOfBeds:{title:"Number of beds",type:"string"}}},this.source=new l.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.hospitalService.getAllHospitals().pipe(Object(s.a)()).subscribe((function(t){e.hospitals=t,e.source.load(e.hospitals)}),(function(t){e.error=t}))}},{key:"onCustomAction",value:function(e){switch(e.action){case"viewrecord":this.openHospitalViewPage(e.data);break;case"editrecord":this.openHospitalEditPage(e.data)}}},{key:"openHospitalViewPage",value:function(e){this.router.navigate(["/pages/hospitals/"+e._id])}},{key:"openHospitalEditPage",value:function(e){this.router.navigate(["/pages/hospitals/"+e._id+"/edit"])}},{key:"onDeleteConfirm",value:function(e){window.confirm("Are you sure you want to delete?")?e.confirm.resolve():e.confirm.reject()}}]),e}()).\u0275fac=function(e){return new(e||a)(p["\u0275\u0275directiveInject"](m.b),p["\u0275\u0275directiveInject"](u),p["\u0275\u0275directiveInject"](o.c))},a.\u0275cmp=p["\u0275\u0275defineComponent"]({type:a,selectors:[["ngx-hospital-list"]],decls:6,vars:5,consts:[[3,"settings","source","custom","deleteConfirm"]],template:function(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"nb-card"),p["\u0275\u0275elementStart"](1,"nb-card-header"),p["\u0275\u0275text"](2),p["\u0275\u0275pipe"](3,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](4,"nb-card-body"),p["\u0275\u0275elementStart"](5,"ng2-smart-table",0),p["\u0275\u0275listener"]("custom",(function(e){return t.onCustomAction(e)}))("deleteConfirm",(function(e){return t.onDeleteConfirm(e)})),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()),2&e&&(p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate1"](" ",p["\u0275\u0275pipeBind1"](3,3,"HOSPITAL_LIST")," "),p["\u0275\u0275advance"](3),p["\u0275\u0275property"]("settings",t.settings)("source",t.source))},directives:[f.l,f.n,f.k,l.b],pipes:[h.c],styles:[".nb-theme-corporate   [_nghost-%COMP%]   nb-card[_ngcontent-%COMP%], .nb-theme-cosmic   [_nghost-%COMP%]   nb-card[_ngcontent-%COMP%], .nb-theme-dark   [_nghost-%COMP%]   nb-card[_ngcontent-%COMP%], .nb-theme-default   [_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{-webkit-transform:translateZ(0);transform:translateZ(0)}.ng2-smart-action-add-add[_ngcontent-%COMP%]{visibility:hidden!important}[_nghost-%COMP%]     ng2-st-tbody-custom{display:-webkit-box!important;display:flex!important;-webkit-box-align:center!important;align-items:center!important;margin-bottom:-44px!important}"]}),a),v=n("MJV+"),g=n("3Pt+");function y(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"div"),p["\u0275\u0275text"](1),p["\u0275\u0275pipe"](2,"translate"),p["\u0275\u0275elementEnd"]()),2&e&&(p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate"](p["\u0275\u0275pipeBind1"](2,1,"EMAIL_ADDRESS_REQUIRED")))}function S(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"div",12),p["\u0275\u0275template"](1,y,3,3,"div",13),p["\u0275\u0275elementEnd"]()),2&e){var n=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",n.f.name.errors.required)}}function E(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"div"),p["\u0275\u0275text"](1),p["\u0275\u0275pipe"](2,"translate"),p["\u0275\u0275elementEnd"]()),2&e&&(p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate"](p["\u0275\u0275pipeBind1"](2,1,"FIRST_NAME_REQUIRED")))}function C(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"div",12),p["\u0275\u0275template"](1,E,3,3,"div",13),p["\u0275\u0275elementEnd"]()),2&e){var n=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",n.f.address.errors.required)}}function I(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"div"),p["\u0275\u0275text"](1,"Number of beds required"),p["\u0275\u0275elementEnd"]())}function x(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"div",12),p["\u0275\u0275template"](1,I,2,0,"div",13),p["\u0275\u0275elementEnd"]()),2&e){var n=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",n.f.numberOfBeds.errors.required)}}var k,O=((k=function(){function e(t,n,i,a){_classCallCheck(this,e),this.formBuilder=t,this.hospitalService=n,this.route=i,this.dialogService=a,this.submitted=!1,this.hospitalEditForm=this.formBuilder.group({name:["",g.u.required],address:["",g.u.required],numberOfBeds:["",g.u.required]})}return _createClass(e,[{key:"ngOnInit",value:function(){this.hospitalId=this.route.snapshot.params.id,this.getHospitalDetails(this.hospitalId)}},{key:"getHospitalDetails",value:function(e){var t=this;this.hospitalService.getHospital(e).pipe(Object(s.a)()).subscribe((function(e){t.hospital=e,t.editHospitalForm()}),(function(e){t.error=e}))}},{key:"editHospitalForm",value:function(){this.hospitalEditForm.patchValue({name:this.hospital.name,address:this.hospital.address,numberOfBeds:this.hospital.numberOfBeds})}},{key:"openDialog",value:function(){this.dialogService.open(v.a,{context:{title:"Hospital data has been successfully updated"}})}},{key:"onSubmit",value:function(){var e=this;this.hospitalService.updateHospital(this.hospitalEditForm.value,this.hospitalId).pipe(Object(s.a)()).subscribe((function(t){t&&e.openDialog()}),(function(t){e.error=t}))}},{key:"f",get:function(){return this.hospitalEditForm.controls}}]),e}()).\u0275fac=function(e){return new(e||k)(p["\u0275\u0275directiveInject"](g.c),p["\u0275\u0275directiveInject"](u),p["\u0275\u0275directiveInject"](o.a),p["\u0275\u0275directiveInject"](f.w))},k.\u0275cmp=p["\u0275\u0275defineComponent"]({type:k,selectors:[["ngx-hospital-edit"]],decls:26,vars:7,consts:[[1,"col-md-6"],[3,"formGroup","ngSubmit"],[1,"form-group","row"],["for","name",1,"label","col-sm-3","col-form-label"],["type","text","nbInput","","fullWidth","","id","name","formControlName","name","placeholder","Hospital name"],["class","invalid-feedback",4,"ngIf"],["for","address",1,"label","col-sm-3","col-form-label"],["type","text","nbInput","","fullWidth","","id","address","formControlName","address","placeholder","Address"],["for","numberOfBeds",1,"label","col-sm-3","col-form-label"],["type","text","nbInput","","fullWidth","","id","numberOfBeds","formControlName","numberOfBeds","placeholder","Number of beds"],[1,"offset-sm-3","col-sm-9"],["type","submit","nbButton","","status","primary"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"div",0),p["\u0275\u0275elementStart"](1,"nb-card"),p["\u0275\u0275elementStart"](2,"nb-card-header"),p["\u0275\u0275text"](3),p["\u0275\u0275pipe"](4,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](5,"nb-card-body"),p["\u0275\u0275elementStart"](6,"form",1),p["\u0275\u0275listener"]("ngSubmit",(function(){return t.onSubmit()})),p["\u0275\u0275elementStart"](7,"div",2),p["\u0275\u0275elementStart"](8,"label",3),p["\u0275\u0275text"](9,"Hospital name"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275element"](10,"input",4),p["\u0275\u0275template"](11,S,2,1,"div",5),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](12,"div",2),p["\u0275\u0275elementStart"](13,"label",6),p["\u0275\u0275text"](14,"Address"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275element"](15,"input",7),p["\u0275\u0275template"](16,C,2,1,"div",5),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](17,"div",2),p["\u0275\u0275elementStart"](18,"label",8),p["\u0275\u0275text"](19,"Number of beds"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275element"](20,"input",9),p["\u0275\u0275template"](21,x,2,1,"div",5),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](22,"div",2),p["\u0275\u0275elementStart"](23,"div",10),p["\u0275\u0275elementStart"](24,"button",11),p["\u0275\u0275text"](25,"Save hospital info"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()),2&e&&(p["\u0275\u0275advance"](3),p["\u0275\u0275textInterpolate"](p["\u0275\u0275pipeBind1"](4,5,"PATIENT_WARNING_SCORE")),p["\u0275\u0275advance"](3),p["\u0275\u0275property"]("formGroup",t.hospitalEditForm),p["\u0275\u0275advance"](5),p["\u0275\u0275property"]("ngIf",t.submitted&&t.f.name.errors),p["\u0275\u0275advance"](5),p["\u0275\u0275property"]("ngIf",t.submitted&&t.f.address.errors),p["\u0275\u0275advance"](5),p["\u0275\u0275property"]("ngIf",t.submitted&&t.f.numberOfBeds.errors))},directives:[f.l,f.n,f.k,g.w,g.n,g.g,f.B,g.b,g.m,g.f,r.m,f.i],pipes:[h.c],styles:[""]}),k);function _(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"div"),p["\u0275\u0275elementStart"](1,"nb-list"),p["\u0275\u0275elementStart"](2,"nb-list-item"),p["\u0275\u0275elementStart"](3,"span"),p["\u0275\u0275text"](4,"Name:"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](5),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](6,"nb-list-item"),p["\u0275\u0275elementStart"](7,"span"),p["\u0275\u0275text"](8,"Address:"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](9),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](10,"nb-list-item"),p["\u0275\u0275elementStart"](11,"span"),p["\u0275\u0275text"](12,"Number of beds:"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](13),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()),2&e){var n=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](5),p["\u0275\u0275textInterpolate1"](" ",n.hospital.name," "),p["\u0275\u0275advance"](4),p["\u0275\u0275textInterpolate1"](" ",n.hospital.address," "),p["\u0275\u0275advance"](4),p["\u0275\u0275textInterpolate1"](" ",n.hospital.numberOfBeds," ")}}var w,j,B,H=((w=function(){function e(t,n){_classCallCheck(this,e),this.route=t,this.hospitalService=n}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this.route.snapshot.params.id;e?this.getHospitalDetails(e):this.error="No details for this hospital"}},{key:"getHospitalDetails",value:function(e){var t=this;this.hospitalService.getHospital(e).pipe(Object(s.a)()).subscribe((function(e){t.hospital=e}),(function(e){t.error=e}))}}]),e}()).\u0275fac=function(e){return new(e||w)(p["\u0275\u0275directiveInject"](o.a),p["\u0275\u0275directiveInject"](u))},w.\u0275cmp=p["\u0275\u0275defineComponent"]({type:w,selectors:[["ngx-hospital-view"]],decls:13,vars:10,consts:[[1,"title-container"],["nbButton","","routerLink","/pages/hospitals"],["nbButton","","routerLink","/pages/hospitals/add"],[4,"ngIf"]],template:function(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"nb-card"),p["\u0275\u0275elementStart"](1,"nb-card-header"),p["\u0275\u0275elementStart"](2,"div",0),p["\u0275\u0275text"](3),p["\u0275\u0275pipe"](4,"translate"),p["\u0275\u0275elementStart"](5,"button",1),p["\u0275\u0275text"](6),p["\u0275\u0275pipe"](7,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](8,"button",2),p["\u0275\u0275text"](9),p["\u0275\u0275pipe"](10,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](11,"nb-card-body"),p["\u0275\u0275template"](12,_,14,3,"div",3),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()),2&e&&(p["\u0275\u0275advance"](3),p["\u0275\u0275textInterpolate1"](" ",p["\u0275\u0275pipeBind1"](4,4,"HOSPITAL_DETAILS")," "),p["\u0275\u0275advance"](3),p["\u0275\u0275textInterpolate"](p["\u0275\u0275pipeBind1"](7,6,"GO_BACK")),p["\u0275\u0275advance"](3),p["\u0275\u0275textInterpolate"](p["\u0275\u0275pipeBind1"](10,8,"ADD_HOSPITAL")),p["\u0275\u0275advance"](3),p["\u0275\u0275property"]("ngIf",t.hospital))},directives:[f.l,f.n,f.i,o.d,f.k,r.m,f.K,f.L],pipes:[h.c],styles:[""]}),w),P=[{path:"",component:b},{path:"add",component:(j=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}(),j.\u0275fac=function(e){return new(e||j)},j.\u0275cmp=p["\u0275\u0275defineComponent"]({type:j,selectors:[["ngx-hospital-create"]],decls:2,vars:0,template:function(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"p"),p["\u0275\u0275text"](1,"hospital-create works!"),p["\u0275\u0275elementEnd"]())},styles:[""]}),j)},{path:":id",children:[{path:"edit",component:O},{path:"",pathMatch:"full",component:H}]}],A=((B=function e(){_classCallCheck(this,e)}).\u0275mod=p["\u0275\u0275defineNgModule"]({type:B}),B.\u0275inj=p["\u0275\u0275defineInjector"]({factory:function(e){return new(e||B)},imports:[[o.g.forChild(P)],o.g]}),B);n.d(t,"HospitalsModule",(function(){return N}));var M,N=((M=function e(){_classCallCheck(this,e)}).\u0275mod=p["\u0275\u0275defineNgModule"]({type:M}),M.\u0275inj=p["\u0275\u0275defineInjector"]({factory:function(e){return new(e||M)},imports:[[r.c,A,f.o,g.s,h.b,l.c,f.C,f.j,f.M]]}),M)}}]);